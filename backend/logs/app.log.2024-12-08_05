2024-12-08 05:21:25,047 - INFO - database:21 - Database instance created. [Request ID: 2b976b113dfa4fd6bcbb0565f1a48b0e]
2024-12-08 05:21:27,422 - INFO - database:21 - Database instance created. [Request ID: 6a485009c21f42ba978d6b78b39d5103]
2024-12-08 05:23:52,846 - DEBUG - database:27 - Initializing database connection... [Request ID: a11056e48a8644099e3cc6e2c2490e18]
2024-12-08 05:23:53,706 - INFO - database:37 - Database connection established. [Request ID: 24b80395eebf4e92a1e683a1b51461df]
2024-12-08 05:23:53,707 - DEBUG - database:47 - Executing query: SELECT uuid FROM users WHERE ip = %s | Params: ('895401576ffb3d6a3979adda6eedd361776de6f59194bf854b7f1fbbfd049d75',) [Request ID: dc8e4fa22b324b04a21a2dfbbd1ef912]
2024-12-08 05:23:53,908 - DEBUG - database:51 - Query result: [RealDictRow({'uuid': '5098efd1be151b97e04bbdfd8ca9db3b8315a484d187bcbd9c2b69ef5d22f7fa'})] [Request ID: fd4a04e3fe7e43638d00d537e0d06b80]
2024-12-08 05:23:53,908 - INFO - routes:232 - Existing user found with IP: 112.202.117.81 [Request ID: 8fc8e9baa6954943b48a71aa7e2a2b51]
2024-12-08 05:23:58,261 - INFO - routes:38 - Received request to process files in memory. UUID: 5098efd1be151b97e04bbdfd8ca9db3b8315a484d187bcbd9c2b69ef5d22f7fa [Request ID: d4a2563722924f70887dbe2de06adc59]
2024-12-08 05:23:58,261 - DEBUG - database:47 - Executing query: SELECT available_credits FROM users WHERE uuid = %s | Params: ('5098efd1be151b97e04bbdfd8ca9db3b8315a484d187bcbd9c2b69ef5d22f7fa',) [Request ID: 903caa2f1ff44ca4948266e916df6548]
2024-12-08 05:23:58,361 - DEBUG - database:51 - Query result: [RealDictRow({'available_credits': 4077})] [Request ID: dfce142cf45a4cce9d865ca55a1c3b87]
2024-12-08 05:23:58,362 - DEBUG - file_helper:64 - File sample_data.csv passed validation. [Request ID: f93d6d3daf3a49179ce8df43bfb648a9]
2024-12-08 05:23:58,362 - DEBUG - routes:79 - Processing file in memory: sample_data.csv. UUID: 5098efd1be151b97e04bbdfd8ca9db3b8315a484d187bcbd9c2b69ef5d22f7fa [Request ID: 8e6d269ecf3d4bb1b9b8cc9a3ed1cd58]
2024-12-08 05:24:02,895 - INFO - openai_helper:23 - Token count for the prompt: 628 [Request ID: e993989063524c038cf489acfd9fef7e]
2024-12-08 05:24:02,896 - INFO - openai_helper:88 - OpenAI query successful for file: 6.28 sample_data.csv [Request ID: 667766ce2be04f0b9f723c6ae415e35c]
2024-12-08 05:24:02,897 - DEBUG - database:47 - Executing query: UPDATE users SET available_credits = %s WHERE uuid = %s | Params: (4070.72, '5098efd1be151b97e04bbdfd8ca9db3b8315a484d187bcbd9c2b69ef5d22f7fa') [Request ID: 2c2397b74b584aeeafc90f4b22ab2f3d]
2024-12-08 05:24:03,103 - INFO - database:54 - Query executed successfully. [Request ID: ccc96560649e4bdf8abb29c532056fe5]
2024-12-08 05:24:03,103 - INFO - routes:133 - Credits deducted. UUID: 5098efd1be151b97e04bbdfd8ca9db3b8315a484d187bcbd9c2b69ef5d22f7fa, Used: 6.28, Remaining: 4070.72 [Request ID: eef5a30479dd4daa96bc934f4261f845]
2024-12-08 05:24:06,905 - INFO - routes:251 - Processing request to generate graph. [Request ID: dfb8591c662c40a685327ac1c37f974e]
2024-12-08 05:24:06,919 - DEBUG - routes:253 - Received request payload: {
  "files": [
    {
      "fileName": "sample_data.csv",
      "data": [
        {
          "Amount": 455.8627638,
          "City": "Digos",
          "CustomerID": 109318,
          "Date": "1/8/10",
          "DiscountApplied": 18.6770995,
          "MarketingPromotion": "Yes",
          "Price": 80.07984415,
          "ProductCategory": "Books",
          "ProductID": "C",
          "Promo Binary": 1,
          "Quantity": 7,
          "Unnamed: 0": 0,
          "lat": null,
          "lon": null
        },
        {
          "Amount": 258.3065464,
          "City": "Valencia",
          "CustomerID": 993229,
          "Date": "1/10/2010",
          "DiscountApplied": 14.12136502,
          "MarketingPromotion": "No",
          "Price": 75.19522942,
          "ProductCategory": "Home Decor",
          "ProductID": "C",
          "Promo Binary": 0,
          "Quantity": 4,
          "Unnamed: 0": 1,
          "lat": 7.9064,
          "lon": 125.0943
        },
        {
          "Amount": 212.0156509,
          "City": "Laoag",
          "CustomerID": 579675,
          "Date": "1/12/2010",
          "DiscountApplied": 15.94370066,
          "MarketingPromotion": "Yes",
          "Price": 31.52881648,
          "ProductCategory": "Books",
          "ProductID": "A",
          "Promo Binary": 1,
          "Quantity": 8,
          "Unnamed: 0": 2,
          "lat": 18.1960128,
          "lon": 120.5926679
        },
        {
          "Amount": 461.3437694,
          "City": "Digos",
          "CustomerID": 799826,
          "Date": "1/14/2010",
          "DiscountApplied": 6.68633678,
          "MarketingPromotion": "No",
          "Price": 98.88021828,
          "ProductCategory": "Books",
          "ProductID": "D",
          "Promo Binary": 0,
          "Quantity": 5,
          "Unnamed: 0": 3,
          "lat": null,
          "lon": null
        },
        {
          "Amount": 626.0304837,
          "City": "Canlaon",
          "CustomerID": 121413,
          "Date": "1/16/2010",
          "DiscountApplied": 4.030095691,
          "MarketingPromotion": "Yes",
          "Price": 93.18851246,
          "ProductCategory": "Electronics",
          "ProductID": "A",
          "Promo Binary": 1,
          "Quantity": 7,
          "Unnamed: 0": 4,
          "lat": 10.3857796,
          "lon": 123.2195866
        },
        {
          "Amount": 144.6092233,
          "City": "San Pablo",
          "CustomerID": 463050,
          "Date": "1/18/2010",
          "DiscountApplied": 10.88876836,
          "MarketingPromotion": "No",
          "Price": 54.09315249,
          "ProductCategory": "Electronics",
          "ProductID": "D",
          "Promo Binary": 0,
          "Quantity": 3,
          "Unnamed: 0": 5,
          "lat": 14.0683,
          "lon": 121.3257
        },
        {
          "Amount": 76.88590745,
          "City": "San Fernando (La Union)",
          "CustomerID": 888163,
          "Date": "1/20/2010",
          "DiscountApplied": 16.29512671,
          "MarketingPromotion": "Yes",
          "Price": 13.12193739,
          "ProductCategory": "Clothing",
          "ProductID": "D",
          "Promo Binary": 1,
          "Quantity": 7,
          "Unnamed: 0": 6,
          "lat": 16.6159132,
          "lon": 120.3210331
        },
        {
          "Amount": 419.7660521,
          "City": "La Carlota",
          "CustomerID": 843385,
          "Date": "1/22/2010",
          "DiscountApplied": 6.344305684,
          "MarketingPromotion": "Yes",
          "Price": 56.02516419,
          "ProductCategory": "Home Decor",
          "ProductID": "A",
          "Promo Binary": 1,
          "Quantity": 8,
          "Unnamed: 0": 7,
          "lat": 10.4241,
          "lon": 122.9208
        },
        {
          "Amount": 96.97792465,
          "City": "Calbayog",
          "CustomerID": 839609,
          "Date": "1/24/2010",
          "DiscountApplied": 18.70399725,
          "MarketingPromotion": "No",
          "Price": 23.85798105,
          "ProductCategory": "Electronics",
          "ProductID": "B",
          "Promo Binary": 0,
          "Quantity": 5,
          "Unnamed: 0": 8,
          "lat": 12.0675749,
          "lon": 124.5929574
        },
        {
          "Amount": 234.0120175,
          "City": "Calamba",
          "CustomerID": 184135,
          "Date": "1/26/2010",
          "DiscountApplied": 7.640606649,
          "MarketingPromotion": "No",
          "Price": 63.3427768,
          "ProductCategory": "Books",
          "ProductID": "D",
          "Promo Binary": 0,
          "Quantity": 4,
          "Unnamed: 0": 9,
          "lat": 14.2126781,
          "lon": 121.163853
        },
        {
          "Amount": 678.3112271,
          "City": "Maasin",
          "CustomerID": 266491,
          "Date": "1/28/2010",
          "DiscountApplied": 14.17495322,
          "MarketingPromotion": "Yes",
          "Price": 98.79272609,
          "ProductCategory": "Books",
          "ProductID": "C",
          "Promo Binary": 1,
          "Quantity": 8,
          "Unnamed: 0": 10,
          "lat": 10.1653546,
          "lon": 124.8403408
        },
        {
          "Amount": 533.0853817,
          "City": "Puerto Princesa",
          "CustomerID": 65632,
          "Date": "1/30/2010",
          "DiscountApplied": 14.70431078,
          "MarketingPromotion": "Yes",
          "Price": 78.12314235,
          "ProductCategory": "Electronics",
          "ProductID": "D",
          "Promo Binary": 1,
          "Quantity": 8,
          "Unnamed: 0": 11,
          "lat": 9.7638429,
          "lon": 118.7473298
        },
        {
          "Amount": 100.1973691,
          "City": "Lapu-Lapu",
          "CustomerID": 26863,
          "Date": "2/1/2010",
          "DiscountApplied": 14.3684358,
          "MarketingPromotion": "No",
          "Price": 39.003285,
          "ProductCategory": "Electronics",
          "ProductID": "B",
          "Promo Binary": 0,
          "Quantity": 3,
          "Unnamed: 0": 12,
          "lat": 10.3168646,
          "lon": 123.9649095
        },
        {
          "Amount": 243.9936112,
          "City": "Dasmari\u00c3\u00b1as",
          "CustomerID": 632732,
          "Date": "2/3/2010",
          "DiscountApplied": 10.57461814,
          "MarketingPromotion": "Yes",
          "Price": 45.47433964,
          "ProductCategory": "Books",
          "ProductID": "D",
          "Promo Binary": 1,
          "Quantity": 6,
          "Unnamed: 0": 13,
          "lat": 14.2990183,
          "lon": 120.9589699
        },
        {
          "Amount": 397.8693765,
          "City": "Dapitan",
          "CustomerID": 798425,
          "Date": "2/5/2010",
          "DiscountApplied": 16.24839531,
          "MarketingPromotion": "No",
          "Price": 95.01176197,
          "ProductCategory": "Clothing",
          "ProductID": "D",
          "Promo Binary": 0,
          "Quantity": 5,
          "Unnamed: 0": 14,
          "lat": 8.6253193,
          "lon": 123.3945709
        },
        {
          "Amount": 34.06846168,
          "City": "San Juan",
          "CustomerID": 780621,
          "Date": "2/7/2010",
          "DiscountApplied": 14.46467762,
          "MarketingPromotion": "No",
          "Price": 19.91484964,
          "ProductCategory": "Clothing",
          "ProductID": "B",
          "Promo Binary": 0,
          "Quantity": 2,
          "Unnamed: 0": 15,
          "lat": 13.8312,
          "lon": 121.4077
        },
        {
          "Amount": 611.5223964,
          "City": "Naga (Camarines Sur)",
          "CustomerID": 633299,
          "Date": "2/9/2010",
          "DiscountApplied": 15.17441385,
          "MarketingPromotion": "Yes",
          "Price": 90.11467295,
          "ProductCategory": "Clothing",
          "ProductID": "D",
          "Promo Binary": 1,
          "Quantity": 8,
          "Unnamed: 0": 16,
          "lat": 13.6217753,
          "lon": 123.1948238
        },
        {
          "Amount": 81.86893153,
          "City": "San Carlos (Negros Occidental)",
          "CustomerID": 271379,
          "Date": "2/11/2010",
          "DiscountApplied": 18.3335909,
          "MarketingPromotion": "Yes",
          "Price": 16.70799791,
          "ProductCategory": "Clothing",
          "ProductID": "D",
          "Promo Binary": 1,
          "Quantity": 6,
          "Unnamed: 0": 17,
          "lat": 10.4837342,
          "lon": 123.4128956
        },
        {
          "Amount": 88.10303858,
          "City": "Santa Rosa",
          "CustomerID": 246231,
          "Date": "2/13/2010",
          "DiscountApplied": 6.904600086,
          "MarketingPromotion": "No",
          "Price": 47.31868527,
          "ProductCategory": "Electronics",
          "ProductID": "B",
          "Promo Binary": 0,
          "Quantity": 2,
          "Unnamed: 0": 18,
          "lat": 14.3122,
          "lon": 121.1113
        },
        {
          "Amount": 311.2432741,
          "City": "Malolos",
          "CustomerID": 818911,
          "Date": "2/15/2010",
          "DiscountApplied": 19.25257426,
          "MarketingPromotion": "No",
          "Price": 77.09057502,
          "ProductCategory": "Books",
          "ProductID": "B",
          "Promo Binary": 0,
          "Quantity": 5,
          "Unnamed: 0": 19,
          "lat": 14.8527393,
          "lon": 120.8160376
        },
        {
          "Amount": 37.17545138,
          "City": "Pasay",
          "CustomerID": 35935,
          "Date": "2/17/2010",
          "DiscountApplied": 18.39618315,
          "MarketingPromotion": "No",
          "Price": 45.55602032,
          "ProductCategory": "Home Decor",
          "ProductID": "B",
          "Promo Binary": 0,
          "Quantity": 1,
          "Unnamed: 0": 20,
          "lat": 14.5376736,
          "lon": 121.000815
        },
        {
          "Amount": 311.5443153,
          "City": "Sipalay",
          "CustomerID": 274967,
          "Date": "2/19/2010",
          "DiscountApplied": 15.43425899,
          "MarketingPromotion": "Yes",
          "Price": 61.40081305,
          "ProductCategory": "Books",
          "ProductID": "D",
          "Promo Binary": 1,
          "Quantity": 6,
          "Unnamed: 0": 21,
          "lat": 9.7197887,
          "lon": 122.4920088
        },
        {
          "Amount": 433.8752331,
          "City": "Balanga",
          "CustomerID": 175504,
          "Date": "2/21/2010",
          "DiscountApplied": 11.00572372,
          "MarketingPromotion": "Yes",
          "Price": 54.17017953,
          "ProductCategory": "Books",
          "ProductID": "C",
          "Promo Binary": 1,
          "Quantity": 9,
          "Unnamed: 0": 22,
          "lat": 14.6799356,
          "lon": 120.5421497
        },
        {
          "Amount": 64.34641065,
          "City": "San Pablo",
          "CustomerID": 589752,
          "Date": "2/23/2010",
          "DiscountApplied": 0.111047537,
          "MarketingPromotion": "No",
          "Price": 64.4179452,
          "ProductCategory": "Clothing",
          "ProductID": "A",
          "Promo Binary": 0,
          "Quantity": 1,
          "Unnamed: 0": 23,
          "lat": 14.0683,
          "lon": 121.3257
        },
        {
          "Amount": 64.62229185,
          "City": "San Fernando (Pampanga)",
          "CustomerID": 86522,
          "Date": "2/25/2010",
          "DiscountApplied": 15.14174264,
          "MarketingPromotion": "No",
          "Price": 25.38440527,
          "ProductCategory": "Clothing",
          "ProductID": "B",
          "Promo Binary": 0,
          "Quantity": 3,
          "Unnamed: 0": 24,
          "lat": 15.0593937,
          "lon": 120.6567054
        },
        {
          "Amount": 354.3541161,
          "City": "Cotabato City",
          "CustomerID": 609241,
          "Date": "2/27/2010",
          "DiscountApplied": 18.38875557,
          "MarketingPromotion": "Yes",
          "Price": 62.02823758,
          "ProductCategory": "Clothing",
          "ProductID": "A",
          "Promo Binary": 1,
          "Quantity": 7,
          "Unnamed: 0": 25,
          "lat": 7.2046668,
          "lon": 124.2310439
        },
        {
          "Amount": 360.101316,
          "City": "Lamitan",
          "CustomerID": 869542,
          "Date": "3/1/2010",
          "DiscountApplied": 8.930830423,
          "MarketingPromotion": "No",
          "Price": 98.85379367,
          "ProductCategory": "Home Decor",
          "ProductID": "A",
          "Promo Binary": 0,
          "Quantity": 4,
          "Unnamed: 0": 26,
          "lat": 6.661519,
          "lon": 122.1064668
        },
        {
          "Amount": 236.1840955,
          "City": "Marikina",
          "CustomerID": 418277,
          "Date": "3/3/2010",
          "DiscountApplied": 4.398935343,
          "MarketingPromotion": "Yes",
          "Price": 27.45019354,
          "ProductCategory": "Clothing",
          "ProductID": "A",
          "Promo Binary": 1,
          "Quantity": 9,
          "Unnamed: 0": 27,
          "lat": 14.65073,
          "lon": 121.1028546
        },
        {
          "Amount": 40.96465951,
          "City": "Makati",
          "CustomerID": 284956,
          "Date": "3/5/2010",
          "DiscountApplied": 14.79229223,
          "MarketingPromotion": "No",
          "Price": 16.02541232,
          "ProductCategory": "Home Decor",
          "ProductID": "B",
          "Promo Binary": 0,
          "Quantity": 3,
          "Unnamed: 0": 28,
          "lat": 14.554729,
          "lon": 121.0244452
        },
        {
          "Amount": 199.0768195,
          "City": "Malaybalay",
          "CustomerID": 237711,
          "Date": "3/7/2010",
          "DiscountApplied": 12.03191072,
          "MarketingPromotion": "No",
          "Price": 45.26114439,
          "ProductCategory": "Books",
          "ProductID": "D",
          "Promo Binary": 0,
          "Quantity": 5,
          "Unnamed: 0": 29,
          "lat": 8.1478579,
          "lon": 125.1320927
        },
        {
          "Amount": 104.8949626,
          "City": "La Carlota",
          "CustomerID": 47999,
          "Date": "3/9/2010",
          "DiscountApplied": 19.97503164,
          "MarketingPromotion": "No",
          "Price": 43.69259776,
          "ProductCategory": "Home Decor",
          "ProductID": "D",
          "Promo Binary": 0,
          "Quantity": 3,
          "Unnamed: 0": 30,
          "lat": 10.4241,
          "lon": 122.9208
        },
        {
          "Amount": 143.8514941,
          "City": "Calbayog",
          "CustomerID": 43807,
          "Date": "3/11/2010",
          "DiscountApplied": 3.594113899,
          "MarketingPromotion": "Yes",
          "Price": 21.31634724,
          "ProductCategory": "Home Decor",
          "ProductID": "C",
          "Promo Binary": 1,
          "Quantity": 7,
          "Unnamed: 0": 31,
          "lat": 12.0675749,
          "lon": 124.5929574
        },
        {
          "Amount": 287.7403501,
          "City": "Lamitan",
          "CustomerID": 628270,
          "Date": "3/13/2010",
          "DiscountApplied": 6.323547799,
          "MarketingPromotion": "No",
          "Price": 61.43280267,
          "ProductCategory": "Books",
          "ProductID": "A",
          "Promo Binary": 0,
          "Quantity": 5,
          "Unnamed: 0": 32,
          "lat": 6.661519,
          "lon": 122.1064668
        },
        {
          "Amount": 368.608025,
          "City": "Bacolod",
          "CustomerID": 550741,
          "Date": "3/15/2010",
          "DiscountApplied": 17.0641798,
          "MarketingPromotion": "Yes",
          "Price": 49.3833028,
          "ProductCategory": "Clothing",
          "ProductID": "D",
          "Promo Binary": 1,
          "Quantity": 9,
          "Unnamed: 0": 33,
          "lat": 10.6713397,
          "lon": 122.9510716
        },
        {
          "Amount": 518.3563731,
          "City": "Toledo",
          "CustomerID": 101274,
          "Date": "3/17/2010",
          "DiscountApplied": 13.2077957,
          "MarketingPromotion": "Yes",
          "Price": 85.31977157,
          "ProductCategory": "Books",
          "ProductID": "D",
          "Promo Binary": 1,
          "Quantity": 7,
          "Unnamed: 0": 34,
          "lat": 10.6713397,
          "lon": 123.65
        },
        {
          "Amount": 80.25392634,
          "City": "General Santos",
          "CustomerID": 140471,
          "Date": "3/19/2010",
          "DiscountApplied": 16.51721833,
          "MarketingPromotion": "No",
          "Price": 48.06615492,
          "ProductCategory": "Electronics",
          "ProductID": "B",
          "Promo Binary": 0,
          "Quantity": 2,
          "Unnamed: 0": 35,
          "lat": 6.1163861,
          "lon": 125.171618
        },
        {
          "Amount": 340.1570542,
          "City": "Bacolod",
          "CustomerID": 635224,
          "Date": "3/21/2010",
          "DiscountApplied": 13.84911501,
          "MarketingPromotion": "No",
          "Price": 98.70968076,
          "ProductCategory": "Books",
          "ProductID": "B",
          "Promo Binary": 0,
          "Quantity": 4,
          "Unnamed: 0": 36,
          "lat": 10.6713397,
          "lon": 122.9510716
        },
        {
          "Amount": 689.5176233,
          "City": "Muntinlupa",
          "CustomerID": 2398,
          "Date": "3/23/2010",
          "DiscountApplied": 4.456275585,
          "MarketingPromotion": "Yes",
          "Price": 80.18639604,
          "ProductCategory": "Electronics",
          "ProductID": "C",
          "Promo Binary": 1,
          "Quantity": 9,
          "Unnamed: 0": 37,
          "lat": 14.4125897,
          "lon": 121.0343247
        },
        {
          "Amount": 94.73316251,
          "City": "Masbate City",
          "CustomerID": 857878,
          "Date": "3/25/2010",
          "DiscountApplied": 12.07332915,
          "MarketingPromotion": "No",
          "Price": 53.87055008,
          "ProductCategory": "Books",
          "ProductID": "C",
          "Promo Binary": 0,
          "Quantity": 2,
          "Unnamed: 0": 38,
          "lat": 12.3574346,
          "lon": 123.5504076
        },
        {
          "Amount": 436.3871409,
          "City": "Marikina",
          "CustomerID": 939765,
          "Date": "3/27/2010",
          "DiscountApplied": 18.77811951,
          "MarketingPromotion": "Yes",
          "Price": 59.69753447,
          "ProductCategory": "Books",
          "ProductID": "B",
          "Promo Binary": 1,
          "Quantity": 9,
          "Unnamed: 0": 39,
          "lat": 14.65073,
          "lon": 121.1028546
        },
        {
          "Amount": 382.504217,
          "City": "Calamba",
          "CustomerID": 11882,
          "Date": "3/29/2010",
          "DiscountApplied": 13.07468591,
          "MarketingPromotion": "No",
          "Price": 88.00755476,
          "ProductCategory": "Electronics",
          "ProductID": "D",
          "Promo Binary": 0,
          "Quantity": 5,
          "Unnamed: 0": 40,
          "lat": 14.2126781,
          "lon": 121.163853
        },
        {
          "Amount": 138.7699082,
          "City": "Quezon City",
          "CustomerID": 147124,
          "Date": "3/31/2010",
          "DiscountApplied": 12.91378242,
          "MarketingPromotion": "No",
          "Price": 79.67386347,
          "ProductCategory": "Clothing",
          "ProductID": "C",
          "Promo Binary": 0,
          "Quantity": 2,
          "Unnamed: 0": 41,
          "lat": 14.6760413,
          "lon": 121.0437003
        },
        {
          "Amount": 231.0855948,
          "City": "Trece Martires",
          "CustomerID": 895908,
          "Date": "4/2/2010",
          "DiscountApplied": 16.51074194,
          "MarketingPromotion": "No",
          "Price": 69.19620564,
          "ProductCategory": "Electronics",
          "ProductID": "B",
          "Promo Binary": 0,
          "Quantity": 4,
          "Unnamed: 0": 42,
          "lat": 14.2822215,
          "lon": 120.868383
        },
        {
          "Amount": 204.4936915,
          "City": "Talisay (Negros Occidental)",
          "CustomerID": 589251,
          "Date": "4/4/2010",
          "DiscountApplied": 14.11085151,
          "MarketingPromotion": "Yes",
          "Price": 34.01289338,
          "ProductCategory": "Clothing",
          "ProductID": "A",
          "Promo Binary": 1,
          "Quantity": 7,
          "Unnamed: 0": 43,
          "lat": 10.7325049,
          "lon": 123.0113568
        },
        {
          "Amount": 314.9379049,
          "City": "Batangas City",
          "CustomerID": 608105,
          "Date": "4/6/2010",
          "DiscountApplied": 16.11718005,
          "MarketingPromotion": "Yes",
          "Price": 46.93122876,
          "ProductCategory": "Home Decor",
          "ProductID": "B",
          "Promo Binary": 1,
          "Quantity": 8,
          "Unnamed: 0": 44,
          "lat": 13.7564651,
          "lon": 121.0583076
        },
        {
          "Amount": 228.3058928,
          "City": "Ozamiz",
          "CustomerID": 800568,
          "Date": "4/8/2010",
          "DiscountApplied": 5.868724608,
          "MarketingPromotion": "No",
          "Price": 80.84663037,
          "ProductCategory": "Electronics",
          "ProductID": "D",
          "Promo Binary": 0,
          "Quantity": 3,
          "Unnamed: 0": 45,
          "lat": 8.1459962,
          "lon": 123.8458707
        },
        {
          "Amount": 59.48263356,
          "City": "Dagupan",
          "CustomerID": 985370,
          "Date": "4/10/2010",
          "DiscountApplied": 10.5145845,
          "MarketingPromotion": "No",
          "Price": 66.47187502,
          "ProductCategory": "Electronics",
          "ProductID": "A",
          "Promo Binary": 0,
          "Quantity": 1,
          "Unnamed: 0": 46,
          "lat": 16.0432998,
          "lon": 120.3333124
        },
        {
          "Amount": 317.2986724,
          "City": "Panabo",
          "CustomerID": 240172,
          "Date": "4/12/2010",
          "DiscountApplied": 17.4431825,
          "MarketingPromotion": "No",
          "Price": 96.08493944,
          "ProductCategory": "Clothing",
          "ProductID": "B",
          "Promo Binary": 0,
          "Quantity": 4,
          "Unnamed: 0": 47,
          "lat": 7.3087068,
          "lon": 125.6841178
        },
        {
          "Amount": 154.3760025,
          "City": "Ilagan",
          "CustomerID": 232632,
          "Date": "4/14/2010",
          "DiscountApplied": 12.84060049,
          "MarketingPromotion": "No",
          "Price": 88.55958357,
          "ProductCategory": "Home Decor",
          "ProductID": "D",
          "Promo Binary": 0,
          "Quantity": 2,
          "Unnamed: 0": 48,
          "lat": 17.1381186,
          "lon": 121.8734492
        },
        {
          "Amount": 361.9466009,
          "City": "Calapan",
          "CustomerID": 138129,
          "Date": "4/16/2010",
          "DiscountApplied": 6.596179738,
          "MarketingPromotion": "Yes",
          "Price": 48.43840968,
          "ProductCategory": "Clothing",
          "ProductID": "B",
          "Promo Binary": 1,
          "Quantity": 8,
          "Unnamed: 0": 49,
          "lat": 13.3770935,
          "lon": 121.1645706
        },
        {
          "Amount": 137.5512119,
          "City": "Mati",
          "CustomerID": 201514,
          "Date": "4/18/2010",
          "DiscountApplied": 5.640954187,
          "MarketingPromotion": "No",
          "Price": 36.44356796,
          "ProductCategory": "Books",
          "ProductID": "B",
          "Promo Binary": 0,
          "Quantity": 4,
          "Unnamed: 0": 50,
          "lat": null,
          "lon": null
        },
        {
          "Amount": 35.85181088,
          "City": "Baguio",
          "CustomerID": 143001,
          "Date": "4/20/2010",
          "DiscountApplied": 15.30872409,
          "MarketingPromotion": "No",
          "Price": 21.16617709,
          "ProductCategory": "Home Decor",
          "ProductID": "A",
          "Promo Binary": 0,
          "Quantity": 2,
          "Unnamed: 0": 51,
          "lat": 16.4023332,
          "lon": 120.5960071
        },
        {
          "Amount": 241.376452,
          "City": "Sagay",
          "CustomerID": 391352,
          "Date": "4/22/2010",
          "DiscountApplied": 13.83077927,
          "MarketingPromotion": "Yes",
          "Price": 46.6865179,
          "ProductCategory": "Home Decor",
          "ProductID": "D",
          "Promo Binary": 1,
          "Quantity": 6,
          "Unnamed: 0": 52,
          "lat": 10.8783445,
          "lon": 123.408176
        },
        {
          "Amount": 164.5119732,
          "City": "Malabon",
          "CustomerID": 94047,
          "Date": "4/24/2010",
          "DiscountApplied": 9.811217151,
          "MarketingPromotion": "Yes",
          "Price": 30.40141062,
          "ProductCategory": "Electronics",
          "ProductID": "A",
          "Promo Binary": 1,
          "Quantity": 6,
          "Unnamed: 0": 53,
          "lat": 14.6680747,
          "lon": 120.9658454
        },
        {
          "Amount": 44.18700627,
          "City": "Carcar",
          "CustomerID": 182358,
          "Date": "4/26/2010",
          "DiscountApplied": 3.970779906,
          "MarketingPromotion": "No",
          "Price": 11.50353148,
          "ProductCategory": "Books",
          "ProductID": "C",
          "Promo Binary": 0,
          "Quantity": 4,
          "Unnamed: 0": 54,
          "lat": 10.1151105,
          "lon": 123.6399562
        },
        {
          "Amount": 126.7294968,
          "City": "Calapan",
          "CustomerID": 91439,
          "Date": "4/28/2010",
          "DiscountApplied": 5.872273942,
          "MarketingPromotion": "Yes",
          "Price": 22.43927871,
          "ProductCategory": "Electronics",
          "ProductID": "D",
          "Promo Binary": 1,
          "Quantity": 6,
          "Unnamed: 0": 55,
          "lat": 13.3770935,
          "lon": 121.1645706
        },
        {
          "Amount": 83.63821655,
          "City": "Cabanatuan",
          "CustomerID": 370994,
          "Date": "4/30/2010",
          "DiscountApplied": 17.63195806,
          "MarketingPromotion": "No",
          "Price": 50.77103606,
          "ProductCategory": "Clothing",
          "ProductID": "D",
          "Promo Binary": 0,
          "Quantity": 2,
          "Unnamed: 0": 56,
          "lat": 15.4865047,
          "lon": 120.973393
        },
        {
          "Amount": 168.2844486,
          "City": "Gapan",
          "CustomerID": 194267,
          "Date": "5/2/2010",
          "DiscountApplied": 6.837288023,
          "MarketingPromotion": "No",
          "Price": 90.31749132,
          "ProductCategory": "Clothing",
          "ProductID": "C",
          "Promo Binary": 0,
          "Quantity": 2,
          "Unnamed: 0": 57,
          "lat": 15.2912094,
          "lon": 121.0105733
        },
        {
          "Amount": 139.5177341,
          "City": "Isabela",
          "CustomerID": 597183,
          "Date": "5/4/2010",
          "DiscountApplied": 10.30417712,
          "MarketingPromotion": "No",
          "Price": 38.88635212,
          "ProductCategory": "Clothing",
          "ProductID": "D",
          "Promo Binary": 0,
          "Quantity": 4,
          "Unnamed: 0": 58,
          "lat": 16.9753758,
          "lon": 121.8107079
        },
        {
          "Amount": 372.0545246,
          "City": "Malolos",
          "CustomerID": 173860,
          "Date": "5/6/2010",
          "DiscountApplied": 6.426451838,
          "MarketingPromotion": "Yes",
          "Price": 49.70081448,
          "ProductCategory": "Clothing",
          "ProductID": "D",
          "Promo Binary": 1,
          "Quantity": 8,
          "Unnamed: 0": 59,
          "lat": 14.8527393,
          "lon": 120.8160376
        },
        {
          "Amount": 262.9146235,
          "City": "Toledo",
          "CustomerID": 667324,
          "Date": "5/8/2010",
          "DiscountApplied": 15.72327504,
          "MarketingPromotion": "Yes",
          "Price": 44.56655375,
          "ProductCategory": "Electronics",
          "ProductID": "A",
          "Promo Binary": 1,
          "Quantity": 7,
          "Unnamed: 0": 60,
          "lat": 10.6713397,
          "lon": 123.65
        },
        {
          "Amount": 373.5460537,
          "City": "San Jose",
          "CustomerID": 74054,
          "Date": "5/10/2010",
          "DiscountApplied": 3.940537885,
          "MarketingPromotion": "Yes",
          "Price": 43.20773421,
          "ProductCategory": "Home Decor",
          "ProductID": "A",
          "Promo Binary": 1,
          "Quantity": 9,
          "Unnamed: 0": 61,
          "lat": 15.7925,
          "lon": 120.9919
        },
        {
          "Amount": 500.5551919,
          "City": "San Pedro",
          "CustomerID": 766020,
          "Date": "5/12/2010",
          "DiscountApplied": 16.61582338,
          "MarketingPromotion": "Yes",
          "Price": 75.03749694,
          "ProductCategory": "Home Decor",
          "ProductID": "B",
          "Promo Binary": 1,
          "Quantity": 8,
          "Unnamed: 0": 62,
          "lat": 14.368,
          "lon": 121.0493
        },
        {
          "Amount": 252.6480512,
          "City": "San Fernando (Pampanga)",
          "CustomerID": 301389,
          "Date": "5/14/2010",
          "DiscountApplied": 9.025839192,
          "MarketingPromotion": "No",
          "Price": 55.54281545,
          "ProductCategory": "Electronics",
          "ProductID": "A",
          "Promo Binary": 0,
          "Quantity": 5,
          "Unnamed: 0": 63,
          "lat": 15.0593937,
          "lon": 120.6567054
        },
        {
          "Amount": 85.30309947,
          "City": "Balanga",
          "CustomerID": 604511,
          "Date": "5/16/2010",
          "DiscountApplied": 8.785967794,
          "MarketingPromotion": "No",
          "Price": 46.75985559,
          "ProductCategory": "Books",
          "ProductID": "D",
          "Promo Binary": 0,
          "Quantity": 2,
          "Unnamed: 0": 64,
          "lat": 14.6799356,
          "lon": 120.5421497
        },
        {
          "Amount": 386.9541942,
          "City": "Ormoc",
          "CustomerID": 107408,
          "Date": "5/18/2010",
          "DiscountApplied": 18.44927581,
          "MarketingPromotion": "No",
          "Price": 94.89902096,
          "ProductCategory": "Books",
          "ProductID": "D",
          "Promo Binary": 0,
          "Quantity": 5,
          "Unnamed: 0": 65,
          "lat": 11.0384275,
          "lon": 124.6192702
        },
        {
          "Amount": 265.3621714,
          "City": "Calamba",
          "CustomerID": 62783,
          "Date": "5/20/2010",
          "DiscountApplied": 4.863213028,
          "MarketingPromotion": "Yes",
          "Price": 34.86587311,
          "ProductCategory": "Electronics",
          "ProductID": "C",
          "Promo Binary": 1,
          "Quantity": 8,
          "Unnamed: 0": 66,
          "lat": 14.2126781,
          "lon": 121.163853
        },
        {
          "Amount": 645.809757,
          "City": "Digos",
          "CustomerID": 937640,
          "Date": "5/22/2010",
          "DiscountApplied": 15.53718329,
          "MarketingPromotion": "Yes",
          "Price": 84.95648436,
          "ProductCategory": "Home Decor",
          "ProductID": "C",
          "Promo Binary": 1,
          "Quantity": 9,
          "Unnamed: 0": 67,
          "lat": null,
          "lon": null
        },
        {
          "Amount": 409.2714208,
          "City": "Batangas City",
          "CustomerID": 116855,
          "Date": "5/24/2010",
          "DiscountApplied": 19.3004819,
          "MarketingPromotion": "Yes",
          "Price": 56.35052523,
          "ProductCategory": "Electronics",
          "ProductID": "B",
          "Promo Binary": 1,
          "Quantity": 9,
          "Unnamed: 0": 68,
          "lat": 13.7564651,
          "lon": 121.0583076
        },
        {
          "Amount": 40.22169188,
          "City": "Calamba",
          "CustomerID": 775212,
          "Date": "5/26/2010",
          "DiscountApplied": 19.15562133,
          "MarketingPromotion": "No",
          "Price": 49.7519958,
          "ProductCategory": "Books",
          "ProductID": "D",
          "Promo Binary": 0,
          "Quantity": 1,
          "Unnamed: 0": 69,
          "lat": 14.2126781,
          "lon": 121.163853
        },
        {
          "Amount": 119.8982348,
          "City": "Meycauayan",
          "CustomerID": 624973,
          "Date": "5/28/2010",
          "DiscountApplied": 14.96717317,
          "MarketingPromotion": "Yes",
          "Price": 15.66692134,
          "ProductCategory": "Electronics",
          "ProductID": "D",
          "Promo Binary": 1,
          "Quantity": 9,
          "Unnamed: 0": 70,
          "lat": 14.7498856,
          "lon": 120.9739288
        },
        {
          "Amount": 578.0629389,
          "City": "Gingoog",
          "CustomerID": 210377,
          "Date": "5/30/2010",
          "DiscountApplied": 5.36747935,
          "MarketingPromotion": "Yes",
          "Price": 87.26431386,
          "ProductCategory": "Books",
          "ProductID": "A",
          "Promo Binary": 1,
          "Quantity": 7,
          "Unnamed: 0": 71,
          "lat": 8.8229902,
          "lon": 125.0976355
        },
        {
          "Amount": 253.8630186,
          "City": "Urdaneta",
          "CustomerID": 73098,
          "Date": "6/1/2010",
          "DiscountApplied": 17.90654433,
          "MarketingPromotion": "Yes",
          "Price": 34.35962323,
          "ProductCategory": "Electronics",
          "ProductID": "C",
          "Promo Binary": 1,
          "Quantity": 9,
          "Unnamed: 0": 72,
          "lat": 15.9758027,
          "lon": 120.5706933
        },
        {
          "Amount": 522.3511948,
          "City": "Ormoc",
          "CustomerID": 600510,
          "Date": "6/3/2010",
          "DiscountApplied": 8.220374972,
          "MarketingPromotion": "Yes",
          "Price": 71.14204196,
          "ProductCategory": "Electronics",
          "ProductID": "B",
          "Promo Binary": 1,
          "Quantity": 8,
          "Unnamed: 0": 73,
          "lat": 11.0384275,
          "lon": 124.6192702
        },
        {
          "Amount": 81.87276186,
          "City": "Pasig",
          "CustomerID": 120603,
          "Date": "6/5/2010",
          "DiscountApplied": 7.700165198,
          "MarketingPromotion": "No",
          "Price": 88.70304269,
          "ProductCategory": "Clothing",
          "ProductID": "A",
          "Promo Binary": 0,
          "Quantity": 1,
          "Unnamed: 0": 74,
          "lat": 14.5736192,
          "lon": 121.0784984
        },
        {
          "Amount": 429.6267915,
          "City": "Kabankalan",
          "CustomerID": 449129,
          "Date": "6/7/2010",
          "DiscountApplied": 7.809105877,
          "MarketingPromotion": "Yes",
          "Price": 58.25233549,
          "ProductCategory": "Clothing",
          "ProductID": "B",
          "Promo Binary": 1,
          "Quantity": 8,
          "Unnamed: 0": 75,
          "lat": 9.9134117,
          "lon": 122.8535755
        },
        {
          "Amount": 534.7140205,
          "City": "Silay",
          "CustomerID": 300948,
          "Date": "6/9/2010",
          "DiscountApplied": 1.213184505,
          "MarketingPromotion": "Yes",
          "Price": 67.66009434,
          "ProductCategory": "Home Decor",
          "ProductID": "B",
          "Promo Binary": 1,
          "Quantity": 8,
          "Unnamed: 0": 76,
          "lat": 10.7528182,
          "lon": 123.0875623
        },
        {
          "Amount": 113.1722634,
          "City": "San Jose del Monte",
          "CustomerID": 268031,
          "Date": "6/11/2010",
          "DiscountApplied": 7.121015695,
          "MarketingPromotion": "No",
          "Price": 40.61638711,
          "ProductCategory": "Electronics",
          "ProductID": "C",
          "Promo Binary": 0,
          "Quantity": 3,
          "Unnamed: 0": 77,
          "lat": 14.8142626,
          "lon": 121.072532
        },
        {
          "Amount": 61.48967949,
          "City": "Tanjay",
          "CustomerID": 70530,
          "Date": "6/13/2010",
          "DiscountApplied": 18.43627657,
          "MarketingPromotion": "No",
          "Price": 75.38851452,
          "ProductCategory": "Books",
          "ProductID": "C",
          "Promo Binary": 0,
          "Quantity": 1,
          "Unnamed: 0": 78,
          "lat": 9.4957882,
          "lon": 122.9663018
        },
        {
          "Amount": 523.0610825,
          "City": "Catbalogan",
          "CustomerID": 54429,
          "Date": "6/15/2010",
          "DiscountApplied": 5.371900825,
          "MarketingPromotion": "Yes",
          "Price": 69.09431329,
          "ProductCategory": "Home Decor",
          "ProductID": "D",
          "Promo Binary": 1,
          "Quantity": 8,
          "Unnamed: 0": 79,
          "lat": 11.8240433,
          "lon": 124.8403408
        },
        {
          "Amount": 141.0397928,
          "City": "San Pablo",
          "CustomerID": 120177,
          "Date": "6/17/2010",
          "DiscountApplied": 6.031257077,
          "MarketingPromotion": "No",
          "Price": 50.03074725,
          "ProductCategory": "Electronics",
          "ProductID": "D",
          "Promo Binary": 0,
          "Quantity": 3,
          "Unnamed: 0": 80,
          "lat": 14.0683,
          "lon": 121.3257
        },
        {
          "Amount": 170.1154528,
          "City": "Maasin",
          "CustomerID": 853797,
          "Date": "6/19/2010",
          "DiscountApplied": 15.50945109,
          "MarketingPromotion": "No",
          "Price": 67.11419404,
          "ProductCategory": "Books",
          "ProductID": "D",
          "Promo Binary": 0,
          "Quantity": 3,
          "Unnamed: 0": 81,
          "lat": 10.1653546,
          "lon": 124.8403408
        },
        {
          "Amount": 33.22083521,
          "City": "Las Pi\u00c3\u00b1as",
          "CustomerID": 127138,
          "Date": "6/21/2010",
          "DiscountApplied": 1.244171467,
          "MarketingPromotion": "No",
          "Price": 33.63936661,
          "ProductCategory": "Home Decor",
          "ProductID": "D",
          "Promo Binary": 0,
          "Quantity": 1,
          "Unnamed: 0": 82,
          "lat": 14.444546,
          "lon": 120.9938736
        },
        {
          "Amount": 288.9403831,
          "City": "Lapu-Lapu",
          "CustomerID": 472995,
          "Date": "6/23/2010",
          "DiscountApplied": 16.49585071,
          "MarketingPromotion": "No",
          "Price": 69.2038385,
          "ProductCategory": "Books",
          "ProductID": "B",
          "Promo Binary": 0,
          "Quantity": 5,
          "Unnamed: 0": 83,
          "lat": 10.3168646,
          "lon": 123.9649095
        },
        {
          "Amount": 409.1867686,
          "City": "Ozamiz",
          "CustomerID": 493821,
          "Date": "6/25/2010",
          "DiscountApplied": 17.13967728,
          "MarketingPromotion": "Yes",
          "Price": 70.54673544,
          "ProductCategory": "Electronics",
          "ProductID": "A",
          "Promo Binary": 1,
          "Quantity": 7,
          "Unnamed: 0": 84,
          "lat": 8.1459962,
          "lon": 123.8458707
        },
        {
          "Amount": 437.454907,
          "City": "Quezon City",
          "CustomerID": 571728,
          "Date": "6/27/2010",
          "DiscountApplied": 2.865302125,
          "MarketingPromotion": "Yes",
          "Price": 50.03989495,
          "ProductCategory": "Books",
          "ProductID": "A",
          "Promo Binary": 1,
          "Quantity": 9,
          "Unnamed: 0": 85,
          "lat": 14.6760413,
          "lon": 121.0437003
        },
        {
          "Amount": 216.4168113,
          "City": "Mandaluyong",
          "CustomerID": 509745,
          "Date": "6/29/2010",
          "DiscountApplied": 4.70639588,
          "MarketingPromotion": "Yes",
          "Price": 32.44361216,
          "ProductCategory": "Books",
          "ProductID": "C",
          "Promo Binary": 1,
          "Quantity": 7,
          "Unnamed: 0": 86,
          "lat": 14.5794443,
          "lon": 121.0359174
        },
        {
          "Amount": 634.0058662,
          "City": "Palayan",
          "CustomerID": 229231,
          "Date": "7/1/2010",
          "DiscountApplied": 14.37946628,
          "MarketingPromotion": "Yes",
          "Price": 82.27593684,
          "ProductCategory": "Home Decor",
          "ProductID": "B",
          "Promo Binary": 1,
          "Quantity": 9,
          "Unnamed: 0": 87,
          "lat": 15.5782871,
          "lon": 121.1113286
        },
        {
          "Amount": 564.3317879,
          "City": "Imus",
          "CustomerID": 268207,
          "Date": "7/3/2010",
          "DiscountApplied": 9.412914394,
          "MarketingPromotion": "Yes",
          "Price": 77.87144604,
          "ProductCategory": "Clothing",
          "ProductID": "D",
          "Promo Binary": 1,
          "Quantity": 8,
          "Unnamed: 0": 88,
          "lat": 14.4064221,
          "lon": 120.9405057
        },
        {
          "Amount": 28.37763431,
          "City": "Calbayog",
          "CustomerID": 727748,
          "Date": "7/5/2010",
          "DiscountApplied": 6.271852121,
          "MarketingPromotion": "No",
          "Price": 15.13826686,
          "ProductCategory": "Electronics",
          "ProductID": "B",
          "Promo Binary": 0,
          "Quantity": 2,
          "Unnamed: 0": 89,
          "lat": 12.0675749,
          "lon": 124.5929574
        },
        {
          "Amount": 50.16057216,
          "City": "Manila",
          "CustomerID": 216500,
          "Date": "7/7/2010",
          "DiscountApplied": 7.935460701,
          "MarketingPromotion": "No",
          "Price": 54.48413965,
          "ProductCategory": "Books",
          "ProductID": "A",
          "Promo Binary": 0,
          "Quantity": 1,
          "Unnamed: 0": 90,
          "lat": 14.5995124,
          "lon": 120.9842195
        },
        {
          "Amount": 108.1490038,
          "City": "Roxas",
          "CustomerID": 892466,
          "Date": "7/9/2010",
          "DiscountApplied": 15.52832487,
          "MarketingPromotion": "Yes",
          "Price": 18.28998616,
          "ProductCategory": "Home Decor",
          "ProductID": "C",
          "Promo Binary": 1,
          "Quantity": 7,
          "Unnamed: 0": 91,
          "lat": null,
          "lon": null
        },
        {
          "Amount": 264.690868,
          "City": "Olongapo",
          "CustomerID": 867913,
          "Date": "7/11/2010",
          "DiscountApplied": 2.444920689,
          "MarketingPromotion": "Yes",
          "Price": 38.76064825,
          "ProductCategory": "Clothing",
          "ProductID": "D",
          "Promo Binary": 1,
          "Quantity": 7,
          "Unnamed: 0": 92,
          "lat": 14.8386303,
          "lon": 120.2842023
        },
        {
          "Amount": 323.8995111,
          "City": "Angeles",
          "CustomerID": 199367,
          "Date": "7/13/2010",
          "DiscountApplied": 15.65384587,
          "MarketingPromotion": "Yes",
          "Price": 48.00152337,
          "ProductCategory": "Books",
          "ProductID": "A",
          "Promo Binary": 1,
          "Quantity": 8,
          "Unnamed: 0": 93,
          "lat": null,
          "lon": null
        },
        {
          "Amount": 122.6117949,
          "City": "Calbayog",
          "CustomerID": 496177,
          "Date": "7/15/2010",
          "DiscountApplied": 5.391257854,
          "MarketingPromotion": "No",
          "Price": 25.91976008,
          "ProductCategory": "Electronics",
          "ProductID": "A",
          "Promo Binary": 0,
          "Quantity": 5,
          "Unnamed: 0": 94,
          "lat": 12.0675749,
          "lon": 124.5929574
        },
        {
          "Amount": 132.4776269,
          "City": "Pasay",
          "CustomerID": 497860,
          "Date": "7/17/2010",
          "DiscountApplied": 15.40578351,
          "MarketingPromotion": "No",
          "Price": 52.20121515,
          "ProductCategory": "Home Decor",
          "ProductID": "B",
          "Promo Binary": 0,
          "Quantity": 3,
          "Unnamed: 0": 95,
          "lat": 14.5376736,
          "lon": 121.000815
        },
        {
          "Amount": 476.1582484,
          "City": "Tandag",
          "CustomerID": 487175,
          "Date": "7/19/2010",
          "DiscountApplied": 19.08665624,
          "MarketingPromotion": "Yes",
          "Price": 73.55990778,
          "ProductCategory": "Clothing",
          "ProductID": "D",
          "Promo Binary": 1,
          "Quantity": 8,
          "Unnamed: 0": 96,
          "lat": 9.1011711,
          "lon": 126.1588771
        },
        {
          "Amount": 240.6861967,
          "City": "Calapan",
          "CustomerID": 573789,
          "Date": "7/21/2010",
          "DiscountApplied": 18.67648085,
          "MarketingPromotion": "Yes",
          "Price": 49.32689403,
          "ProductCategory": "Books",
          "ProductID": "B",
          "Promo Binary": 1,
          "Quantity": 6,
          "Unnamed: 0": 97,
          "lat": 13.3770935,
          "lon": 121.1645706
        },
        {
          "Amount": 74.79908093,
          "City": "Angeles",
          "CustomerID": 63925,
          "Date": "7/23/2010",
          "DiscountApplied": 19.7587519,
          "MarketingPromotion": "No",
          "Price": 31.07258121,
          "ProductCategory": "Electronics",
          "ProductID": "B",
          "Promo Binary": 0,
          "Quantity": 3,
          "Unnamed: 0": 98,
          "lat": null,
          "lon": null
        },
        {
          "Amount": 45.26880784,
          "City": "Para\u00c3\u00b1aque",
          "CustomerID": 87781,
          "Date": "7/25/2010",
          "DiscountApplied": 4.362300725,
          "MarketingPromotion": "No",
          "Price": 47.33364372,
          "ProductCategory": "Books",
          "ProductID": "C",
          "Promo Binary": 0,
          "Quantity": 1,
          "Unnamed: 0": 99,
          "lat": 14.4793208,
          "lon": 121.0197486
        }
      ],
      "collapsed": true,
      "currentPage": 1,
      "insights": "The table provides sales transaction details including customer and product information, pricing, discounts, and promotional activity across various cities.",
      "statistics": {
        "missing_values": 14,
        "num_columns": 14,
        "num_observations": 100,
        "variable_types": {
          "Amount": "float64",
          "City": "string",
          "CustomerID": "int64",
          "Date": "datetime",
          "DiscountApplied": "float64",
          "MarketingPromotion": "string",
          "Price": "float64",
          "ProductCategory": "string",
          "ProductID": "string",
          "Promo Binary": "int64",
          "Quantity": "int64",
          "Unnamed: 0": "int64",
          "lat": "float64",
          "lon": "float64"
        }
      },
      "prompt_suggestions": [
        "Visualize the distribution of product categories across different cities to examine regional preferences.",
        "Create a time series analysis of sales amounts to identify trends and seasonal patterns.",
        "Compare the effectiveness of marketing promotions by analyzing the average discount and corresponding sales amount in promoted vs. non-promoted transactions.",
        "Generate a heatmap to display the geographic distribution of sales quantity based on latitude and longitude data.",
        "Analyze the impact of discount percentages on the final sales amount to determine optimal discount strategies."
      ]
    }
  ],
  "prompt": "Visualize the distribution of product categories across different cities to examine regional preferences.",
  "uuid": "5098efd1be151b97e04bbdfd8ca9db3b8315a484d187bcbd9c2b69ef5d22f7fa"
} [Request ID: e4ef920e44e34c08822d35055014c4aa]
2024-12-08 05:24:06,919 - INFO - routes:266 - Retrieving credits for UUID: 5098efd1be151b97e04bbdfd8ca9db3b8315a484d187bcbd9c2b69ef5d22f7fa [Request ID: 65e8221cae30400880b32eb0dd428adf]
2024-12-08 05:24:06,919 - DEBUG - database:47 - Executing query: SELECT available_credits FROM users WHERE uuid = %s | Params: ('5098efd1be151b97e04bbdfd8ca9db3b8315a484d187bcbd9c2b69ef5d22f7fa',) [Request ID: 7623ca5afe3141c6a6be79a4b119be79]
2024-12-08 05:24:07,120 - DEBUG - database:51 - Query result: [RealDictRow({'available_credits': 4071})] [Request ID: 64a792e173a0437a925c73bcaa28ba56]
2024-12-08 05:24:07,120 - INFO - routes:274 - User found. UUID: 5098efd1be151b97e04bbdfd8ca9db3b8315a484d187bcbd9c2b69ef5d22f7fa, Available Credits: 4071 [Request ID: 2502b352de0b40b6ae04311b919263e4]
2024-12-08 05:24:07,121 - INFO - routes:278 - Combining data from uploaded files. [Request ID: 0c4ca174e78a445097e6a91c9d1dcb40]
2024-12-08 05:24:07,121 - DEBUG - routes:281 - Processing file: None [Request ID: 4953dc21ca0b44099077366a6c433cbe]
2024-12-08 05:24:07,121 - DEBUG - routes:284 - Combined data size: 100 records [Request ID: bbdd3ce06e05429198840975d2c88ab3]
2024-12-08 05:24:07,121 - INFO - routes:287 - Sending request to OpenAI for graph generation. Prompt: Visualize the distribution of product categories across different cities to examine regional preferences. [Request ID: 94b65bdbe5df43acba40aa64f99532e0]
2024-12-08 05:24:36,875 - INFO - openai_helper:23 - Token count for the prompt: 14315 [Request ID: 55e092b1cfd949308dfda3c08949c142]
2024-12-08 05:24:36,876 - INFO - openai_helper:202 - OpenAI graph or table generation completed successfully. Prompt cost: 143.15 [Request ID: 82553fb33f6e411aa5fac036581e3bb1]
2024-12-08 05:24:36,877 - DEBUG - routes:290 - OpenAI response: {"status":"success","graphs":[{"graph_json":{"data":[{"type":"bar","x":["Digos","Digos","Valencia","Laoag","Canlaon","San Pablo","San Fernando (La Union)","La Carlota","Calbayog","Calamba","Maasin","Puerto Princesa","Lapu-Lapu","Dasmarias","Dapitan","San Juan","Naga (Camarines Sur)","San Carlos (Negros Occidental)","Santa Rosa","Malolos","Pasay","Sipalay","Balanga","San Pablo","San Fernando (Pampanga)","Cotabato City","Lamitan","Marikina","Makati","Malaybalay","La Carlota","Calbayog","Lamitan","Bacolod","Toledo","General Santos","Bacolod","Muntinlupa","Masbate City","Marikina","Calamba","Quezon City","Trece Martires","Talisay (Negros Occidental)","Batangas City","Ozamiz","Dagupan","Panabo","Ilagan","Calapan","Mati","Baguio","Sagay","Malabon","Carcar","Calapan","Cabanatuan","Gapan","Isabela","Malolos","Toledo","San Jose","San Pedro","San Fernando (Pampanga)","Balanga","Ormoc","Calamba","Digos","Batangas City","Calamba","Meycauayan","Gingoog","Urdaneta","Ormoc","Pasig","Kabankalan","Silay","San Jose del Monte","Tanjay","Catbalogan","San Pablo","Maasin","Las Pias","Lapu-Lapu","Ozamiz","Quezon City","Mandaluyong","Palayan","Imus","Calbayog","Manila","Roxas","Olongapo","Angeles","Calbayog","Pasay","Tandag","Calapan","Angeles","Paraaque"],"y":[3,4,3,1,2,2,1,2,3,6,2,3,4,4,3,1,6,2,5,5,4,5,5,1,1,1,5,3,3,6,5,6,1,6,2,1,4,2,3,5,3,5,5,2,2,2,2,5,5,1,2,1,2,6,5,6,1,6,2,1,5,1,6,1,4,3,6,1,6,3,5,2,6,5,6,4,1,3,6,1,1,5,1,2,4,2,4,6,1,5,5,1,1,5],"name":"Books","hoverinfo":"x+y","marker":{"color":"#636EFA"}},{"type":"bar","x":["Digos","Digos","Valencia","Laoag","Canlaon","San Pablo","San Fernando (La Union)","La Carlota","Calbayog","Calamba","Maasin","Puerto Princesa","Lapu-Lapu","Dasmarias","Dapitan","San Juan","Naga (Camarines Sur)","San Carlos (Negros Occidental)","Santa Rosa","Malolos","Pasay","Sipalay","Balanga","San Pablo","San Fernando (Pampanga)","Cotabato City","Lamitan","Marikina","Makati","Malaybalay","La Carlota","Calbayog","Lamitan","Bacolod","Toledo","General Santos","Bacolod","Muntinlupa","Masbate City","Marikina","Calamba","Quezon City","Trece Martires","Talisay (Negros Occidental)","Batangas City","Ozamiz","Dagupan","Panabo","Ilagan","Calapan","Mati","Baguio","Sagay","Malabon","Carcar","Calapan","Cabanatuan","Gapan","Isabela","Malolos","Toledo","San Jose","San Pedro","San Fernando (Pampanga)","Balanga","Ormoc","Calamba","Digos","Batangas City","Calamba","Meycauayan","Gingoog","Urdaneta","Ormoc","Pasig","Kabankalan","Silay","San Jose del Monte","Tanjay","Catbalogan","San Pablo","Maasin","Las Pias","Lapu-Lapu","Ozamiz","Quezon City","Mandaluyong","Palayan","Imus","Calbayog","Manila","Roxas","Olongapo","Angeles","Calbayog","Pasay","Tandag","Calapan","Angeles","Paraaque"],"y":[1,2,2,3,1,1,1,3,1,1,3,4,3,1,5,4,4,2,5,1,4,4,5,2,2,2,5,3,5,4,5,4,1,4,3,3,2,4,4,2,2,5,2,1,4,5,4,1,1,3,2,4,1,3,3,4,1,5,3,1,5,3,6,5,1,4,6,1,4,5,4,4,3,3,2,1,3,5,2,1,2,5,4,5,1,6,5,3,2,5,2,5,1,3,3,3],"name":"Clothing","hoverinfo":"x+y","marker":{"color":"#EF553B"}},{"type":"bar","x":["Digos","Digos","Valencia","Laoag","Canlaon","San Pablo","San Fernando (La Union)","La Carlota","Calbayog","Calamba","Maasin","Puerto Princesa","Lapu-Lapu","Dasmarias","Dapitan","San Juan","Naga (Camarines Sur)","San Carlos (Negros Occidental)","Santa Rosa","Malolos","Pasay","Sipalay","Balanga","San Pablo","San Fernando (Pampanga)","Cotabato City","Lamitan","Marikina","Makati","Malaybalay","La Carlota","Calbayog","Lamitan","Bacolod","Toledo","General Santos","Bacolod","Muntinlupa","Masbate City","Marikina","Calamba","Quezon City","Trece Martires","Talisay (Negros Occidental)","Batangas City","Ozamiz","Dagupan","Panabo","Ilagan","Calapan","Mati","Baguio","Sagay","Malabon","Carcar","Calapan","Cabanatuan","Gapan","Isabela","Malolos","Toledo","San Jose","San Pedro","San Fernando (Pampanga)","Balanga","Ormoc","Calamba","Digos","Batangas City","Calamba","Meycauayan","Gingoog","Urdaneta","Ormoc","Pasig","Kabankalan","Silay","San Jose del Monte","Tanjay","Catbalogan","San Pablo","Maasin","Las Pias","Lapu-Lapu","Ozamiz","Quezon City","Mandaluyong","Palayan","Imus","Calbayog","Manila","Roxas","Olongapo","Angeles","Calbayog","Pasay","Tandag","Calapan","Angeles","Paraaque"],"y":[3,1,1,1,1,2,1,3,2,4,4,4,5,5,2,4,3,5,5,1,5,1,3,4,2,2,2,1,3,3,5,4,4,1,5,1,3,5,2,5,2,1,1,2,3,1,3,3,2,2,1,5,4,4,1,5,5,3,1,4,5,4,3,5,2,4,5,5,3,5,1,3,2,1,3,4,3,2,4,5,3,2,3,4,1,5,3,2,2,2,5,1,2,1,4,3],"name":"Electronics","hoverinfo":"x+y","marker":{"color":"#00CC96"}},{"type":"bar","x":["Digos","Digos","Valencia","Laoag","Canlaon","San Pablo","San Fernando (La Union)","La Carlota","Calbayog","Calamba","Maasin","Puerto Princesa","Lapu-Lapu","Dasmarias","Dapitan","San Juan","Naga (Camarines Sur)","San Carlos (Negros Occidental)","Santa Rosa","Malolos","Pasay","Sipalay","Balanga","San Pablo","San Fernando (Pampanga)","Cotabato City","Lamitan","Marikina","Makati","Malaybalay","La Carlota","Calbayog","Lamitan","Bacolod","Toledo","General Santos","Bacolod","Muntinlupa","Masbate City","Marikina","Calamba","Quezon City","Trece Martires","Talisay (Negros Occidental)","Batangas City","Ozamiz","Dagupan","Panabo","Ilagan","Calapan","Mati","Baguio","Sagay","Malabon","Carcar","Calapan","Cabanatuan","Gapan","Isabela","Malolos","Toledo","San Jose","San Pedro","San Fernando (Pampanga)","Balanga","Ormoc","Calamba","Digos","Batangas City","Calamba","Meycauayan","Gingoog","Urdaneta","Ormoc","Pasig","Kabankalan","Silay","San Jose del Monte","Tanjay","Catbalogan","San Pablo","Maasin","Las Pias","Lapu-Lapu","Ozamiz","Quezon City","Mandaluyong","Palayan","Imus","Calbayog","Manila","Roxas","Olongapo","Angeles","Calbayog","Pasay","Tandag","Calapan","Angeles","Paraaque"],"y":[4,5,5,3,5,3,5,4,4,2,1,4,2,4,1,2,3,5,5,4,1,2,2,5,1,1,1,1,3,2,2,5,2,5,4,5,1,1,3,3,1,1,1,1,4,4,2,5,5,4,1,5,2,2,4,4,5,1,1,5,4,5,3,2,4,3,2,1,1,4,3,1,5,5,3,5,2,1,2,3,2,1,4,5,5,4,1,1,4,3,3,4,3,4,5,3],"name":"Home Decor","hoverinfo":"x+y","marker":{"color":"#AB63FA"}}],"layout":{"barmode":"stack","title":{"text":"Distribution of Product Categories by City"},"xaxis":{"title":"City"},"yaxis":{"title":"Quantity"},"template":"plotly_dark"}},"title":"Distribution of Product Categories by City","description":"This stacked bar chart visualizes product category distribution across cities to explore regional preferences."}],"suggestions":[]} [Request ID: 6fa012237e1c4bd9a7a77b55780fe710]
2024-12-08 05:24:36,877 - INFO - routes:297 - Parsing OpenAI response. [Request ID: 3647fd75e5ff4c30bc101e0974492e8b]
2024-12-08 05:24:36,878 - INFO - routes:395 - Deducting credits. UUID: 5098efd1be151b97e04bbdfd8ca9db3b8315a484d187bcbd9c2b69ef5d22f7fa, Used: 143.15, Remaining: 3927.85 [Request ID: 5cc7720b034d4c41b7b2ab6ed5d6e3ff]
2024-12-08 05:24:36,894 - DEBUG - database:47 - Executing query: UPDATE users SET available_credits = %s WHERE uuid = %s | Params: (3927.85, '5098efd1be151b97e04bbdfd8ca9db3b8315a484d187bcbd9c2b69ef5d22f7fa') [Request ID: c7e6ed8f7d474ad492c8c8a16200d677]
2024-12-08 05:24:37,102 - INFO - database:54 - Query executed successfully. [Request ID: e5c6bdb4c63343d2b0681fadf0660aa5]
2024-12-08 05:24:37,103 - INFO - routes:399 - Graph generation completed successfully for UUID: 5098efd1be151b97e04bbdfd8ca9db3b8315a484d187bcbd9c2b69ef5d22f7fa [Request ID: ec6ffd8982a643a583a35a1375a735c8]
